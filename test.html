<!DOCTYPE html>
<html>

<head>
   <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
   <title>WebGL_2.0_MapMove</title>
   <script type="text/javascript"
      src="https://map.vworld.kr/js/webglMapInit.js.do?version=2.0&apiKey=331C8EDC-A578-3547-BA82-64B4871C2E0D&domain=http://127.0.0.1:5500/PortFolio/sample_WebGL_2.0_MapMove.html">
   </script>
   <link rel="stylesheet" href="./map.css">
</head>

<body>
   <div class="vmap" id="vmap" style="width:100%;height:952px;left:0px;top:0px;bottom:0px;"></div>

   <!-- <input type="button" onclick="vwmoveTo(126.923100000039,37.5262083301207,5000)" value="여의도">
<input type="button" onclick="vwmoveTo(131.864677840073,37.2414795955336,2000)" value="독도"> -->
   <!-- <input type="button" class="btn" onclick="vwmoveTo(126.976912,37.576267,50)" value="경복궁"> -->
   <!-- <input type="image" class="imgbtn" src="./imgs/logo_ff.png" onclick="vwmoveTo(126.976912,37.576267,50)"> -->

   <script type="text/javascript">
      var map;
      var hX = 127.425;
      var hY = 38.196;
      var hZ = 13487000;
      var hH = 0;
      var hT = -90;
      var hR = 0;

      var sX = 126.92529813255122;
      var sY = 37.52509165877161;
      var sZ = 10000;
      var sH = 0;
      var sT = -50;
      var sR = 0;

      function vwmap() {
         var mapOptions = new vw.MapOptions(
            vw.BasemapType.GRAPHIC, "",
            vw.DensityType.BASIC,
            vw.DensityType.BASIC,
            false,
            new vw.CameraPosition(
               new vw.CoordZ(hX, hY, hZ),
               new vw.Direction(hH, hT, hR)
            ),
            new vw.CameraPosition(
               //new vw.CoordZ(126.968007,37.3998313, 1500),
               new vw.CoordZ(sX, sY, sZ),
               new vw.Direction(sH, sT, sR)
            )
         );
         //console.log(mapOptions)
         map = new vw.Map("vmap", mapOptions);

         setTimeout(function () {
            setMarker(sX, sY, '맵 시작 위치 (위치변경가능)');
            getMapCoods(map);
         }, 1000);
      }

      vwmap();

      function setMarker(x, y, name) {
         var point1Coord = new vw.Coord(x, y);
         var pt = new vw.geom.Point(point1Coord);

         pt.setImage("http://map.vworld.kr/images/op02/map_point.png");
         pt.setName(name);
         pt.setFont("고딕");
         pt.setFontSize(20);
         pt.setDistanceFromTerrain(10);
         pt.create();
      }

      function getMapCoods(map) {
         setTimeout(function () {
            map.onClick.addEventListener(MapCoordsXy);
            map.onMouseMove.addEventListener(MapCoordsMouseMoveEvent);
         }, 200);
      }

      // x,y 좌표를 뽑아오는 것이 목적인 함수
      function MapCoordsXy(windowposition, ecefposition, cartographic, featureInfo) {
         try {
            var x = vw.Util.toDegrees(cartographic.longitude);
            var y = vw.Util.toDegrees(cartographic.latitude);
            var z = vw.Util.toDegrees(cartographic.height);

            setXy(x, y, z);
         }
      }

      // 화면에 좌표값 셋팅
      function setXy(x, y, z) {
         $('#x').text(x);
         $('#y').text(y);
         $('#z').text(z);
      }

      try{
         MapCoordsXy();
      }
      catch(e){
         console.log(e.name);
      }
   </script>

   <div id="coordBox">
      <mark>x좌표</mark>
      <div id="x"></div>
      <mark>y좌표</mark>
      <div id="y"></div>
      <mark>z좌표</mark>
      <div id="z"></div>
   </div>
</body>

</html>